<!doctype html>
<html ng-app="pledgedSitesApp">
    <head>
        <meta charset="utf-8">
        <title>Pledge Away</title>
    </head>
    <body ng-cloak>
        <div class="container" ng-controller="pledgedSitesCtrlDebug">
          <div ng-show="pledgedSites">
          <div>
             <button class="btn btn-default" ng-click="clearAll()">Clear All Sites</button>
             <button class="btn btn-default" ng-click="reassign()">Re-assign Sites</button>
             <button class="btn btn-default" ng-click="sendData()">Submit Data</button>
             <button class="btn btn-default" ng-show="!submissionData" ng-click="showData()">Show Submission</button>
             <button class="btn btn-default" ng-show="submissionData" ng-click="hideData()">Hide Submission</button>
          </div>
          <div ng-show="submissionData">
           <pre>{{submissionData}}</pre>
          </div>
            <form>
              Enter participating site
              <input type="text"
                     size="30"
                     ng-model="newsite"/>
              <button class="btn btn-default" ng-click="addSite()">Add</button>
              <button class="btn btn-default" ng-click="clearSite()">Clear</button>
            </form>
            <!-- <pre ng-show="pledgedSites">{{pledgedSitesStr}}</pre> -->
            <table class="table table-condensed" ng-show="pledgedSites">
               <tr ng-repeat="site in pledgedSitesKeys">
                 <td>
                   <a href="http://{{site}}">{{site}}</a>
                 </td>
                 <td>
                   <span ng-show="pledgedSites[site].canPledge"> Add free</span>
                 </td>
                 <td>
                   panel shown {{pledgedSites[site].panelShown}}
                 </td>
                 <td>
                   ads blocked {{pledgedSites[site].blockedAdsCount}}
                 <td>
                   <span ng-show="pledgedSites[site].unblocked"> Ads shown</span>
                   <span ng-show="!pledgedSites[site].unblocked"> Ads blocked </span>
                 </td>
                 <td>
                   <span ng-show="pledgedSites[site].unpledged"> Revoked </span>
                 </td>
                 <td>
                   <span ng-show="pledgedSites[site].nominated"> Nominated </span>
                 </td>
                 <td>
                   <button class="" ng-click="clearSite(site)">Clear</button>
                 </td>
                 <td>
                   <button class="" ng-click="deleteSite(site)">Delete</button>
                 </td>
               </tr>
            </table>
          </div>
        </div>
    </body>
</html>
